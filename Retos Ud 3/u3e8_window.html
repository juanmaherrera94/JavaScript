<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>u3e8_window.html</title>
</head>
<body>

    <button id="1">Abrir</button>
    <button id="2">Cerrar</button>
    <button id="3">Imprimir</button>

    <script>
    /*
    Ejercicio 12: u3e8_window.html
    Realiza un programa con una ventana principal y tres botones:

    Abrir: abrirá una pequeña ventana pop-up sin barras, scroll y no permitirá redimensionarse.
    Cerrar: cerrará la ventana creada.
    Imprimir: permitirá imprimir la ventana principal.
    En la ventana secundaria (pop-up) habrá:

    6 botones con nombres de colores que, al pulsarse, imprimirán en la pantalla principal un párrafo con el color indicado.
    Un botón para cerrar la ventana.
    Un botón para mover la ventana a una posición indicada por el usuario (se solicitarán dos valores separados por coma para la posición desde arriba y desde la izquierda).
    Ejercicio 13: u3e9_windowtiemp
    
    */
    let poPup;

    const colores = ["blue", "green", "yellow", "red", "purple", "orange"];

    const abrirVentana = () => {

        poPup = window.open("", "_blank", "toolbar=no,scrollbars=no,resizable=no,width=600,height=600");

        //escribo dentro de la ventana una vez este abierta

        poPup.document.write(`<button id='cerrar'>Cerrar</button>`);

        poPup.document.getElementById("cerrar").addEventListener("click", ()=> poPup.close());


        poPup.document.write(`<button id="mover">Mover Ventana</button><br>`);

        poPup.document.getElementById("mover").addEventListener("click", () => {
        let movimiento = poPup.prompt("Introduce los dos valores con una coma (x,y):");
        let [x,y] = movimiento.split(",");
        poPup.moveTo(parseInt(x),parseInt(y));
    });
    //recorro el array de colores
    
    colores.forEach(color => {
        poPup.document.write(`<button id=${color}">${color}</button>`);
        poPup.document.getElementById(`${color}`).addEventListener("click", () => {
            poPup.document.getElementById("texto").style.color = `${color}`;
        })
    })
    poPup.document.write("<p id='texto'>Hola mundo</p>");


    }


    const cerrarVentana = ()=>{

        poPup.close();
    }

    
    const imprimirVentana = ()=>{

         poPup = window.print();
    }

    // Asignar los eventos a los botones
    document.getElementById("1").addEventListener("click", abrirVentana);
    document.getElementById("2").addEventListener("click", cerrarVentana);
    document.getElementById("3").addEventListener("click", imprimirVentana);

    </script>
</body>
</html>
